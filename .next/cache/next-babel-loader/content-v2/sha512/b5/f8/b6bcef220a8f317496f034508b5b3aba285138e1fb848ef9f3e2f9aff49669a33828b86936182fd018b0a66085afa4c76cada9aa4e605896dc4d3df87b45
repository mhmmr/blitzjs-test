{"ast":null,"code":"import _regeneratorRuntime from \"D:/Software Dev/blitz-test/node_modules/next/node_modules/@babel/runtime/regenerator\";\nimport _defineProperty from \"D:/Software Dev/blitz-test/node_modules/next/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _asyncToGenerator from \"D:/Software Dev/blitz-test/node_modules/next/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"D:/Software Dev/blitz-test/node_modules/next/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { withSuperJSONPage as _withSuperJSONPage } from \"babel-plugin-superjson-next/tools\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport { useMutation } from \"blitz\";\nimport Layout from \"app/core/layouts/Layout\";\nimport { LabeledTextField } from \"app/core/components/LabeledTextField\";\nimport { Form, FORM_ERROR } from \"app/core/components/Form\";\nimport { ForgotPassword } from \"app/auth/validations\";\nimport forgotPassword from \"app/auth/mutations/forgotPassword\";\n\nvar ForgotPasswordPage = function ForgotPasswordPage() {\n  var _useMutation = useMutation(forgotPassword),\n      _useMutation2 = _slicedToArray(_useMutation, 2),\n      forgotPasswordMutation = _useMutation2[0],\n      isSuccess = _useMutation2[1].isSuccess;\n\n  return __jsx(\"div\", null, __jsx(\"h1\", null, \"Forgot your password?\"), isSuccess ? __jsx(\"div\", null, __jsx(\"h2\", null, \"Request Submitted\"), __jsx(\"p\", null, \"If your email is in our system, you will receive instructions to reset your password shortly.\")) : __jsx(Form, {\n    submitText: \"Send Reset Password Instructions\",\n    schema: ForgotPassword,\n    initialValues: {\n      email: \"\"\n    },\n    onSubmit: /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(values) {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return forgotPasswordMutation(values);\n\n              case 3:\n                _context.next = 8;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n                return _context.abrupt(\"return\", _defineProperty({}, FORM_ERROR, \"Sorry, we had an unexpected error. Please try again.\"));\n\n              case 8:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, null, [[0, 5]]);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }()\n  }, __jsx(LabeledTextField, {\n    name: \"email\",\n    label: \"Email\",\n    placeholder: \"Email\"\n  })));\n};\n\nForgotPasswordPage.redirectAuthenticatedTo = \"/\";\n\nForgotPasswordPage.getLayout = function (page) {\n  return __jsx(Layout, {\n    title: \"Forgot Your Password?\"\n  }, page);\n};\n\nexport default _withSuperJSONPage(ForgotPasswordPage);","map":null,"metadata":{},"sourceType":"module"}