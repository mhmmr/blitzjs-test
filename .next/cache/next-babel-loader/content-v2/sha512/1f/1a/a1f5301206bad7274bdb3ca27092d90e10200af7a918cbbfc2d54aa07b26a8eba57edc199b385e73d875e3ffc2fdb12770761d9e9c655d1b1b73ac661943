{"ast":null,"code":"/* TODO - You need to add a mailer integration in `integrations/` and import here.\r\n *\r\n * The integration file can be very simple. Instantiate the email client\r\n * and then export it. That way you can import here and anywhere else\r\n * and use it straight away.\r\n */\nimport previewEmail from \"preview-email\";\nexport function forgotPasswordMailer({\n  to,\n  token\n}) {\n  // In production, set APP_ORIGIN to your production server origin\n  const origin = process.env.APP_ORIGIN || process.env.BLITZ_DEV_SERVER_ORIGIN;\n  const resetUrl = `${origin}/reset-password?token=${token}`;\n  const msg = {\n    from: \"TODO@example.com\",\n    to,\n    subject: \"Your Password Reset Instructions\",\n    html: `\n      <h1>Reset Your Password</h1>\n      <h3>NOTE: You must set up a production email integration in mailers/forgotPasswordMailer.ts</h3>\n\n      <a href=\"${resetUrl}\">\n        Click here to set a new password\n      </a>\n    `\n  };\n  return {\n    async send() {\n      if (true) {\n        // TODO - send the production email, like this:\n        // await postmark.sendEmail(msg)\n        throw new Error(\"No production email implementation in mailers/forgotPasswordMailer\");\n      } else {\n        // Preview email in the browser\n        await previewEmail(msg);\n      }\n    }\n\n  };\n}","map":null,"metadata":{},"sourceType":"module"}